diff --git a/p4Source/complementary.json b/p4Source/complementary.json
deleted file mode 100644
index c3d21c155..000000000
--- a/p4Source/complementary.json
+++ /dev/null
@@ -1,411 +0,0 @@
-{
-  "header_types" : [
-    {
-      "name" : "scalars_0",
-      "id" : 0,
-      "fields" : [
-        ["tmp", 64, false],
-        ["do_function_componentHash", 64, false],
-        ["do_function_sensorValue", 64, false]
-      ]
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "fields" : [
-        ["size", 64, false],
-        ["isInterest", 1, false],
-        ["param1", 64, false],
-        ["param2", 64, false],
-        ["param3", 64, false],
-        ["param4", 64, false],
-        ["nextHopListSize", 64, false],
-        ["selectedOutputPort", 64, false],
-        ["outputPortSelected", 1, false],
-        ["drop", 1, false],
-        ["queuePriority", 8, false],
-        ["_padding", 5, false]
-      ]
-    }
-  ],
-  "headers" : [
-    {
-      "name" : "scalars",
-      "id" : 0,
-      "header_type" : "scalars_0",
-      "metadata" : true,
-      "pi_omit" : true
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "header_type" : "standard_metadata",
-      "metadata" : true,
-      "pi_omit" : true
-    }
-  ],
-  "header_stacks" : [],
-  "header_union_types" : [],
-  "header_unions" : [],
-  "header_union_stacks" : [],
-  "field_lists" : [],
-  "errors" : [
-    ["NoError", 0],
-    ["PacketTooShort", 1],
-    ["NoMatch", 2],
-    ["StackOutOfBounds", 3],
-    ["HeaderTooShort", 4],
-    ["ParserTimeout", 5],
-    ["ParserInvalidArgument", 6]
-  ],
-  "enums" : [],
-  "parsers" : [
-    {
-      "name" : "parser",
-      "id" : 0,
-      "init_state" : "start",
-      "parse_states" : [
-        {
-          "name" : "start",
-          "id" : 0,
-          "parser_ops" : [],
-          "transitions" : [
-            {
-              "type" : "default",
-              "value" : null,
-              "mask" : null,
-              "next_state" : null
-            }
-          ],
-          "transition_key" : []
-        }
-      ]
-    }
-  ],
-  "parse_vsets" : [],
-  "deparsers" : [
-    {
-      "name" : "deparser",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 55,
-        "column" : 8,
-        "source_fragment" : "DeparserI"
-      },
-      "order" : [],
-      "primitives" : []
-    }
-  ],
-  "meter_arrays" : [],
-  "counter_arrays" : [],
-  "register_arrays" : [],
-  "calculations" : [],
-  "learn_lists" : [],
-  "actions" : [
-    {
-      "name" : "IngressI.do_function.loadSensorValues",
-      "id" : 0,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Loading the sensor values from Pkt to P4"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 35,
-            "column" : 8,
-            "source_fragment" : "        log_msg(\\\"Loading the sensor values from Pkt to P4\\\");"
-          }
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 36,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(sensorValue, 3)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_sensorValue"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000003"
-            }
-          ]
-        },
-        {
-          "op" : "insert_component",
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 39,
-            "column" : 1,
-            "source_fragment" : " insert_component(\\\"result\\\", 4);"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "result"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000004"
-            }
-          ]
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : ">>",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_sensorValue"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x1"
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 38,
-            "column" : 10,
-            "source_fragment" : "sensorValue / 2"
-          }
-        },
-        {
-          "op" : "insert_component_integer",
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 40,
-            "column" : 1,
-            "source_fragment" : "insert_component_integer(result, 5)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000005"
-            }
-          ]
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.nop",
-      "id" : 1,
-      "runtime_data" : [],
-      "primitives" : []
-    },
-    {
-      "name" : "complementary71",
-      "id" : 2,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "get_name_component_hash",
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 71,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_componentHash"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000002"
-            }
-          ]
-        }
-      ]
-    }
-  ],
-  "pipelines" : [
-    {
-      "name" : "ingress",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 40,
-        "column" : 8,
-        "source_fragment" : "IngressI"
-      },
-      "init_table" : "tbl_complementary71",
-      "tables" : [
-        {
-          "name" : "tbl_complementary71",
-          "id" : 0,
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 71,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [2],
-          "actions" : ["complementary71"],
-          "base_default_next" : "IngressI.do_function.checkNamespace",
-          "next_tables" : {
-            "complementary71" : "IngressI.do_function.checkNamespace"
-          },
-          "default_entry" : {
-            "action_id" : 2,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "IngressI.do_function.checkNamespace",
-          "id" : 1,
-          "source_info" : {
-            "filename" : "complementary.p4",
-            "line" : 47,
-            "column" : 10,
-            "source_fragment" : "checkNamespace"
-          },
-          "key" : [
-            {
-              "match_type" : "exact",
-              "name" : "componentHash",
-              "target" : ["scalars", "do_function_componentHash"],
-              "mask" : null
-            }
-          ],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [0, 1],
-          "actions" : ["IngressI.do_function.loadSensorValues", "IngressI.do_function.nop"],
-          "base_default_next" : null,
-          "next_tables" : {
-            "IngressI.do_function.loadSensorValues" : null,
-            "IngressI.do_function.nop" : null
-          },
-          "default_entry" : {
-            "action_id" : 1,
-            "action_const" : false,
-            "action_data" : [],
-            "action_entry_const" : false
-          },
-          "entries" : [
-            {
-              "source_info" : {
-                "filename" : "complementary.p4",
-                "line" : 57,
-                "column" : 11,
-                "source_fragment" : "(14752253762927134915) : loadSensorValues()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0xccba88a2f7b108c3"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 0,
-                "action_data" : []
-              },
-              "priority" : 1
-            },
-            {
-              "source_info" : {
-                "filename" : "complementary.p4",
-                "line" : 58,
-                "column" : 11,
-                "source_fragment" : "(1493425201293809283) : loadSensorValues()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0x14b9b64eddbbd683"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 0,
-                "action_data" : []
-              },
-              "priority" : 2
-            }
-          ]
-        }
-      ],
-      "action_profiles" : [],
-      "conditionals" : []
-    },
-    {
-      "name" : "egress",
-      "id" : 1,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 48,
-        "column" : 8,
-        "source_fragment" : "EgressI"
-      },
-      "init_table" : null,
-      "tables" : [],
-      "action_profiles" : [],
-      "conditionals" : []
-    }
-  ],
-  "checksums" : [],
-  "force_arith" : [],
-  "extern_instances" : [],
-  "field_aliases" : [],
-  "program" : "complementary.p4",
-  "__meta__" : {
-    "version" : [2, 23],
-    "compiler" : "https://github.com/p4lang/p4c"
-  }
-}
\ No newline at end of file
diff --git a/p4Source/complementaryFilter.json b/p4Source/complementaryFilter.json
deleted file mode 100644
index 5a3c6cb62..000000000
--- a/p4Source/complementaryFilter.json
+++ /dev/null
@@ -1,1428 +0,0 @@
-{
-  "header_types" : [
-    {
-      "name" : "scalars_0",
-      "id" : 0,
-      "fields" : [
-        ["tmp", 64, false],
-        ["tmp_0", 64, false],
-        ["tmp_1", 64, false],
-        ["do_function_componentHash", 64, false],
-        ["do_function_accX", 64, false],
-        ["do_function_accY", 64, false],
-        ["do_function_accZ", 64, false],
-        ["do_function_gyX", 64, false],
-        ["do_function_gyY", 64, false],
-        ["do_function_gyZ", 64, false],
-        ["do_function_pitchAcc", 64, false],
-        ["do_function_yawAcc", 64, false],
-        ["do_function_rollAcc", 64, false]
-      ]
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "fields" : [
-        ["size", 64, false],
-        ["isInterest", 1, false],
-        ["param1", 64, false],
-        ["param2", 64, false],
-        ["param3", 64, false],
-        ["param4", 64, false],
-        ["nextHopListSize", 64, false],
-        ["selectedOutputPort", 64, false],
-        ["outputPortSelected", 1, false],
-        ["drop", 1, false],
-        ["queuePriority", 8, false],
-        ["_padding", 5, false]
-      ]
-    }
-  ],
-  "headers" : [
-    {
-      "name" : "scalars",
-      "id" : 0,
-      "header_type" : "scalars_0",
-      "metadata" : true,
-      "pi_omit" : true
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "header_type" : "standard_metadata",
-      "metadata" : true,
-      "pi_omit" : true
-    }
-  ],
-  "header_stacks" : [],
-  "header_union_types" : [],
-  "header_unions" : [],
-  "header_union_stacks" : [],
-  "field_lists" : [],
-  "errors" : [
-    ["NoError", 0],
-    ["PacketTooShort", 1],
-    ["NoMatch", 2],
-    ["StackOutOfBounds", 3],
-    ["HeaderTooShort", 4],
-    ["ParserTimeout", 5],
-    ["ParserInvalidArgument", 6]
-  ],
-  "enums" : [],
-  "parsers" : [
-    {
-      "name" : "parser",
-      "id" : 0,
-      "init_state" : "start",
-      "parse_states" : [
-        {
-          "name" : "start",
-          "id" : 0,
-          "parser_ops" : [],
-          "transitions" : [
-            {
-              "type" : "default",
-              "value" : null,
-              "mask" : null,
-              "next_state" : null
-            }
-          ],
-          "transition_key" : []
-        }
-      ]
-    }
-  ],
-  "parse_vsets" : [],
-  "deparsers" : [
-    {
-      "name" : "deparser",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 55,
-        "column" : 8,
-        "source_fragment" : "DeparserI"
-      },
-      "order" : [],
-      "primitives" : []
-    }
-  ],
-  "meter_arrays" : [],
-  "counter_arrays" : [],
-  "register_arrays" : [],
-  "calculations" : [],
-  "learn_lists" : [],
-  "actions" : [
-    {
-      "name" : "IngressI.do_function.SensorFusion",
-      "id" : 0,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Loading the Accelerometer and Gyroscope readings"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 75,
-            "column" : 8,
-            "source_fragment" : "        log_msg(\\\"Loading the Accelerometer and Gyroscope readings\\\");"
-          }
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 76,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(accX, 4)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accX"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000004"
-            }
-          ]
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 77,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(accY, 5)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accY"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000005"
-            }
-          ]
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 78,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(accZ, 6)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accZ"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000006"
-            }
-          ]
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 79,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(gyX, 7)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_gyX"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000007"
-            }
-          ]
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 80,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(gyY, 8)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_gyY"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000008"
-            }
-          ]
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 81,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(gyZ, 9)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_gyZ"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000009"
-            }
-          ]
-        },
-        {
-          "op" : "get_arc_tan",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 83,
-            "column" : 1,
-            "source_fragment" : "get_arc_tan(pitchAcc, accY, accZ)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_pitchAcc"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accY"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accZ"]
-            }
-          ]
-        },
-        {
-          "op" : "get_arc_tan",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 90,
-            "column" : 1,
-            "source_fragment" : "get_arc_tan(yawAcc, accX, accY)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_yawAcc"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accX"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accY"]
-            }
-          ]
-        },
-        {
-          "op" : "get_arc_tan",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 94,
-            "column" : 1,
-            "source_fragment" : "get_arc_tan(rollAcc, accX, accZ)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_rollAcc"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accX"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_accZ"]
-            }
-          ]
-        },
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Inserting the sensor fusion results"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 108,
-            "column" : 1,
-            "source_fragment" : " log_msg(\\\"Inserting the sensor fusion results\\\");"
-          }
-        },
-        {
-          "op" : "insert_component",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 109,
-            "column" : 1,
-            "source_fragment" : " insert_component(\\\"result\\\", 10);"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "result"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x000000000000000a"
-            }
-          ]
-        },
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Inserting the sensor fusion 1"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 110,
-            "column" : 1,
-            "source_fragment" : " log_msg(\\\"Inserting the sensor fusion 1\\\");"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_gyX"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_pitchAcc"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 87,
-            "column" : 9,
-            "source_fragment" : "gyX + pitchAcc"
-          }
-        },
-        {
-          "op" : "insert_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 111,
-            "column" : 1,
-            "source_fragment" : "insert_component_integer(pitch,11)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x000000000000000b"
-            }
-          ]
-        },
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Inserting the sensor fusion 2"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 112,
-            "column" : 1,
-            "source_fragment" : " log_msg(\\\"Inserting the sensor fusion 2\\\");"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp_0"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "expression",
-                        "value" : {
-                          "op" : "&",
-                          "left" : {
-                            "type" : "expression",
-                            "value" : {
-                              "op" : "*",
-                              "left" : {
-                                "type" : "expression",
-                                "value" : {
-                                  "op" : "&",
-                                  "left" : {
-                                    "type" : "expression",
-                                    "value" : {
-                                      "op" : "+",
-                                      "left" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : "+",
-                                              "left" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : "+",
-                                                      "left" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_gyY"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x7"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      },
-                                                      "right" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_gyY"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x9"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              },
-                                              "right" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : ">>",
-                                                      "left" : {
-                                                        "type" : "field",
-                                                        "value" : ["scalars", "do_function_gyY"]
-                                                      },
-                                                      "right" : {
-                                                        "type" : "hexstr",
-                                                        "value" : "0xd"
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      },
-                                      "right" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : ">>",
-                                              "left" : {
-                                                "type" : "field",
-                                                "value" : ["scalars", "do_function_gyY"]
-                                              },
-                                              "right" : {
-                                                "type" : "hexstr",
-                                                "value" : "0xe"
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      }
-                                    }
-                                  },
-                                  "right" : {
-                                    "type" : "hexstr",
-                                    "value" : "0xffffffffffffffff"
-                                  }
-                                }
-                              },
-                              "right" : {
-                                "type" : "hexstr",
-                                "value" : "0x0000000000000062"
-                              }
-                            }
-                          },
-                          "right" : {
-                            "type" : "hexstr",
-                            "value" : "0xffffffffffffffff"
-                          }
-                        }
-                      },
-                      "right" : {
-                        "type" : "expression",
-                        "value" : {
-                          "op" : "&",
-                          "left" : {
-                            "type" : "expression",
-                            "value" : {
-                              "op" : "<<",
-                              "left" : {
-                                "type" : "expression",
-                                "value" : {
-                                  "op" : "&",
-                                  "left" : {
-                                    "type" : "expression",
-                                    "value" : {
-                                      "op" : "+",
-                                      "left" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : "+",
-                                              "left" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : "+",
-                                                      "left" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_yawAcc"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x7"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      },
-                                                      "right" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_yawAcc"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x9"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              },
-                                              "right" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : ">>",
-                                                      "left" : {
-                                                        "type" : "field",
-                                                        "value" : ["scalars", "do_function_yawAcc"]
-                                                      },
-                                                      "right" : {
-                                                        "type" : "hexstr",
-                                                        "value" : "0xd"
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      },
-                                      "right" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : ">>",
-                                              "left" : {
-                                                "type" : "field",
-                                                "value" : ["scalars", "do_function_yawAcc"]
-                                              },
-                                              "right" : {
-                                                "type" : "hexstr",
-                                                "value" : "0xe"
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      }
-                                    }
-                                  },
-                                  "right" : {
-                                    "type" : "hexstr",
-                                    "value" : "0xffffffffffffffff"
-                                  }
-                                }
-                              },
-                              "right" : {
-                                "type" : "hexstr",
-                                "value" : "0x1"
-                              }
-                            }
-                          },
-                          "right" : {
-                            "type" : "hexstr",
-                            "value" : "0xffffffffffffffff"
-                          }
-                        }
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 92,
-            "column" : 7,
-            "source_fragment" : "((gyY >> 7) + (gyY >> 9) + (gyY >> 13) + (gyY >> 14)) * 98 + ((yawAcc >> 7) + (yawAcc >> 9) + (yawAcc >> 13) + (yawAcc >> 14)) * 2"
-          }
-        },
-        {
-          "op" : "insert_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 113,
-            "column" : 1,
-            "source_fragment" : "insert_component_integer(yaw, 12)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp_0"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x000000000000000c"
-            }
-          ]
-        },
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Inserting the sensor fusion 3"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 114,
-            "column" : 1,
-            "source_fragment" : " log_msg(\\\"Inserting the sensor fusion 3\\\");"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp_1"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "expression",
-                        "value" : {
-                          "op" : "&",
-                          "left" : {
-                            "type" : "expression",
-                            "value" : {
-                              "op" : "*",
-                              "left" : {
-                                "type" : "expression",
-                                "value" : {
-                                  "op" : "&",
-                                  "left" : {
-                                    "type" : "expression",
-                                    "value" : {
-                                      "op" : "+",
-                                      "left" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : "+",
-                                              "left" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : "+",
-                                                      "left" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_gyZ"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x7"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      },
-                                                      "right" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_gyZ"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x9"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              },
-                                              "right" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : ">>",
-                                                      "left" : {
-                                                        "type" : "field",
-                                                        "value" : ["scalars", "do_function_gyZ"]
-                                                      },
-                                                      "right" : {
-                                                        "type" : "hexstr",
-                                                        "value" : "0xd"
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      },
-                                      "right" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : ">>",
-                                              "left" : {
-                                                "type" : "field",
-                                                "value" : ["scalars", "do_function_gyZ"]
-                                              },
-                                              "right" : {
-                                                "type" : "hexstr",
-                                                "value" : "0xe"
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      }
-                                    }
-                                  },
-                                  "right" : {
-                                    "type" : "hexstr",
-                                    "value" : "0xffffffffffffffff"
-                                  }
-                                }
-                              },
-                              "right" : {
-                                "type" : "hexstr",
-                                "value" : "0x0000000000000062"
-                              }
-                            }
-                          },
-                          "right" : {
-                            "type" : "hexstr",
-                            "value" : "0xffffffffffffffff"
-                          }
-                        }
-                      },
-                      "right" : {
-                        "type" : "expression",
-                        "value" : {
-                          "op" : "&",
-                          "left" : {
-                            "type" : "expression",
-                            "value" : {
-                              "op" : "<<",
-                              "left" : {
-                                "type" : "expression",
-                                "value" : {
-                                  "op" : "&",
-                                  "left" : {
-                                    "type" : "expression",
-                                    "value" : {
-                                      "op" : "+",
-                                      "left" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : "+",
-                                              "left" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : "+",
-                                                      "left" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_rollAcc"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x7"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      },
-                                                      "right" : {
-                                                        "type" : "expression",
-                                                        "value" : {
-                                                          "op" : "&",
-                                                          "left" : {
-                                                            "type" : "expression",
-                                                            "value" : {
-                                                              "op" : ">>",
-                                                              "left" : {
-                                                                "type" : "field",
-                                                                "value" : ["scalars", "do_function_rollAcc"]
-                                                              },
-                                                              "right" : {
-                                                                "type" : "hexstr",
-                                                                "value" : "0x9"
-                                                              }
-                                                            }
-                                                          },
-                                                          "right" : {
-                                                            "type" : "hexstr",
-                                                            "value" : "0xffffffffffffffff"
-                                                          }
-                                                        }
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              },
-                                              "right" : {
-                                                "type" : "expression",
-                                                "value" : {
-                                                  "op" : "&",
-                                                  "left" : {
-                                                    "type" : "expression",
-                                                    "value" : {
-                                                      "op" : ">>",
-                                                      "left" : {
-                                                        "type" : "field",
-                                                        "value" : ["scalars", "do_function_rollAcc"]
-                                                      },
-                                                      "right" : {
-                                                        "type" : "hexstr",
-                                                        "value" : "0xd"
-                                                      }
-                                                    }
-                                                  },
-                                                  "right" : {
-                                                    "type" : "hexstr",
-                                                    "value" : "0xffffffffffffffff"
-                                                  }
-                                                }
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      },
-                                      "right" : {
-                                        "type" : "expression",
-                                        "value" : {
-                                          "op" : "&",
-                                          "left" : {
-                                            "type" : "expression",
-                                            "value" : {
-                                              "op" : ">>",
-                                              "left" : {
-                                                "type" : "field",
-                                                "value" : ["scalars", "do_function_rollAcc"]
-                                              },
-                                              "right" : {
-                                                "type" : "hexstr",
-                                                "value" : "0xe"
-                                              }
-                                            }
-                                          },
-                                          "right" : {
-                                            "type" : "hexstr",
-                                            "value" : "0xffffffffffffffff"
-                                          }
-                                        }
-                                      }
-                                    }
-                                  },
-                                  "right" : {
-                                    "type" : "hexstr",
-                                    "value" : "0xffffffffffffffff"
-                                  }
-                                }
-                              },
-                              "right" : {
-                                "type" : "hexstr",
-                                "value" : "0x1"
-                              }
-                            }
-                          },
-                          "right" : {
-                            "type" : "hexstr",
-                            "value" : "0xffffffffffffffff"
-                          }
-                        }
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 96,
-            "column" : 8,
-            "source_fragment" : "((gyZ >> 7) + (gyZ >> 9) + (gyZ >> 13) + (gyZ >> 14)) * 98 + ((rollAcc >> 7) + (rollAcc >> 9) + (rollAcc >> 13) + (rollAcc >> 14)) * 2"
-          }
-        },
-        {
-          "op" : "insert_component_integer",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 115,
-            "column" : 1,
-            "source_fragment" : "insert_component_integer(roll, 13)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp_1"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x000000000000000d"
-            }
-          ]
-        },
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Inserting the sensor fusion 4"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 116,
-            "column" : 1,
-            "source_fragment" : " log_msg(\\\"Inserting the sensor fusion 4\\\");"
-          }
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.nop",
-      "id" : 1,
-      "runtime_data" : [],
-      "primitives" : []
-    },
-    {
-      "name" : "complementaryFilter150",
-      "id" : 2,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "get_name_component_hash",
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 150,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_componentHash"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000002"
-            }
-          ]
-        }
-      ]
-    }
-  ],
-  "pipelines" : [
-    {
-      "name" : "ingress",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 40,
-        "column" : 8,
-        "source_fragment" : "IngressI"
-      },
-      "init_table" : "tbl_complementaryFilter150",
-      "tables" : [
-        {
-          "name" : "tbl_complementaryFilter150",
-          "id" : 0,
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 150,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [2],
-          "actions" : ["complementaryFilter150"],
-          "base_default_next" : "IngressI.do_function.checkNamespace",
-          "next_tables" : {
-            "complementaryFilter150" : "IngressI.do_function.checkNamespace"
-          },
-          "default_entry" : {
-            "action_id" : 2,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "IngressI.do_function.checkNamespace",
-          "id" : 1,
-          "source_info" : {
-            "filename" : "complementaryFilter.p4",
-            "line" : 124,
-            "column" : 10,
-            "source_fragment" : "checkNamespace"
-          },
-          "key" : [
-            {
-              "match_type" : "exact",
-              "name" : "componentHash",
-              "target" : ["scalars", "do_function_componentHash"],
-              "mask" : null
-            }
-          ],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [0, 1],
-          "actions" : ["IngressI.do_function.SensorFusion", "IngressI.do_function.nop"],
-          "base_default_next" : null,
-          "next_tables" : {
-            "IngressI.do_function.SensorFusion" : null,
-            "IngressI.do_function.nop" : null
-          },
-          "default_entry" : {
-            "action_id" : 1,
-            "action_const" : false,
-            "action_data" : [],
-            "action_entry_const" : false
-          },
-          "entries" : [
-            {
-              "source_info" : {
-                "filename" : "complementaryFilter.p4",
-                "line" : 137,
-                "column" : 11,
-                "source_fragment" : "(1493425201293809283) : SensorFusion()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0x14b9b64eddbbd683"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 0,
-                "action_data" : []
-              },
-              "priority" : 1
-            }
-          ]
-        }
-      ],
-      "action_profiles" : [],
-      "conditionals" : []
-    },
-    {
-      "name" : "egress",
-      "id" : 1,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 48,
-        "column" : 8,
-        "source_fragment" : "EgressI"
-      },
-      "init_table" : null,
-      "tables" : [],
-      "action_profiles" : [],
-      "conditionals" : []
-    }
-  ],
-  "checksums" : [],
-  "force_arith" : [],
-  "extern_instances" : [],
-  "field_aliases" : [],
-  "program" : "complementaryFilter.p4",
-  "__meta__" : {
-    "version" : [2, 23],
-    "compiler" : "https://github.com/p4lang/p4c"
-  }
-}
\ No newline at end of file
diff --git a/p4Source/complementaryFilter.p4 b/p4Source/complementaryFilter.p4
deleted file mode 100644
index 0b12e171a..000000000
--- a/p4Source/complementaryFilter.p4
+++ /dev/null
@@ -1,156 +0,0 @@
-/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
-/**
- * Copyright (c) 2020  University of Ottawa.
- *
- * This file is part of ndnSIM. See AUTHORS for complete list of ndnSIM authors and
- * contributors.
- *
- * ndnSIM is free software: you can redistribute it and/or modify it under the terms
- * of the GNU General Public License as published by the Free Software Foundation,
- * either version 3 of the License, or (at your option) any later version.
- *
- * ndnSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
- * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
- * PURPOSE.  See the GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along with
- * ndnSIM, e.g., in COPYING.md file.  If not, see <http://www.gnu.org/licenses/>.
- **/
-
-#include "v1model.p4"
-
-//hash for the string - data, assumed to be part of the namespace /sensor1/data/value/
-#define DATA_HASH  14752253762927134915
-#define ALERT_HASH  1493425201293809283
-
-
-control P4Function(inout standard_metadata_t std_meta) {
-    //Used to match namespace of the packet
-    bit<64> componentHash = 0;
-    bit<64> sensorValue = 0;
-    bit<64> numerator = 120;
-    bit<64> denominator = 220;
-    bit<64> resultPitch = 0;
-    bit<64> resultYaw = 0;
-    bit<64> resultRoll = 0;
-
-
-/*
-    action loadSensorValues() {
-    	bit<64> result = 0;
-    	bit<64> aTanResult = 0;
-        log_msg("Loading the sensor values from Pkt to P4");
-	get_name_component_integer(sensorValue, 3);
-	result = sensorValue * 2;
-	result = sensorValue / 2;
-	insert_component("result", 4);
-	insert_component_integer(result, 5);
-	get_arc_tan(aTanResult, numerator, denominator);
-	log_msg("got the arc tan result");
-	insert_component_integer(aTanResult,6);
-    }
-*/
-
-
-    action SensorFusion() {
-    	bit<64> accX = 0;
-    	bit<64> accY = 0;
-    	bit<64> accZ = 0;
-    	bit<64> gyX = 0;
-    	bit<64> gyY = 0;
-    	bit<64> gyZ = 0;
-    	bit<64> aTanResult = 0;
-    	bit<64> pitch = 0;
-    	bit<64> yaw = 0;
-    	bit<64> roll = 0;
-
-    	bit<64> pitchAcc = 0;
-    	bit<64> yawAcc = 0;
-    	bit<64> rollAcc = 0;
-    	bit<64> temp = 0;
-
-	bit<64> a = 0;
-	bit<64> b = 0;
-
-        log_msg("Loading the Accelerometer and Gyroscope readings");
-	get_name_component_integer(accX, 4);
-	get_name_component_integer(accY, 5);
-	get_name_component_integer(accZ, 6);
-	get_name_component_integer(gyX, 7);
-	get_name_component_integer(gyY, 8);
-	get_name_component_integer(gyZ, 9);
-
-	get_arc_tan(pitchAcc, accY, accZ);
-	// pitchAcc =  temp * 180 * 7 / 22;
-	//The shifting is an approximation for 1/100
-	//pitch = ((gyX >> 7) + (gyX >> 9) + (gyX >> 13) + (gyX >> 14)) * 98 +  ((pitchAcc >> 7) + (pitchAcc >> 9) + (pitchAcc >> 13) + (pitchAcc >> 14)) * 2;
-	pitch = gyX + pitchAcc;
-	
-
-	get_arc_tan(yawAcc, accX, accY);
-	//yawAcc = yawAcc * 180 * 7 / 22;
-	yaw = ((gyY >> 7) + (gyY >> 9) + (gyY >> 13) + (gyY >> 14)) * 98 +  ((yawAcc >> 7) + (yawAcc >> 9) + (yawAcc >> 13) + (yawAcc >> 14)) * 2;
-
-	get_arc_tan(rollAcc, accX, accZ);
-	//rollAcc = rollAcc * 180 * 7 / 22;
-	roll = ((gyZ >> 7) + (gyZ >> 9) + (gyZ >> 13) + (gyZ >> 14)) * 98 +  ((rollAcc >> 7) + (rollAcc >> 9) + (rollAcc >> 13) + (rollAcc >> 14)) * 2;
-
-/*
-	log_msg("Deleting the unnecessary components");
-	remove_component(4);
-	remove_component(5);
-	remove_component(6);
-	remove_component(7);
-	remove_component(8);
-	remove_component(9);
-*/
-
-	log_msg("Inserting the sensor fusion results");
-	insert_component("result", 10);
-	log_msg("Inserting the sensor fusion 1");
-	insert_component_integer(pitch,11);
-	log_msg("Inserting the sensor fusion 2");
-	insert_component_integer(yaw, 12);
-	log_msg("Inserting the sensor fusion 3");
-	insert_component_integer(roll, 13);
-	log_msg("Inserting the sensor fusion 4");
-    }
-
-
-    action nop() {
-    }
-
-
-    table checkNamespace {
-       key={   
-           componentHash: exact;
-       }
-       actions={
-	   //loadSensorValues;
-	   SensorFusion;
-           nop;	   
-       }
-       default_action=nop();
-       const entries={
-          // (DATA_HASH) : loadSensorValues();
-          // (ALERT_HASH) : loadSensorValues();
-           (ALERT_HASH) : SensorFusion();
-       }
-    }
-
-
-
-    apply {
-/*
-    1. Match namespace
-    2. Get the sensor value as an integer
-    3. Save Integer value in a register 
-*/
-	//data string will always be the 2nd component of the namespace	
-    	get_name_component_hash(componentHash, 2);
-	checkNamespace.apply();
-
-    }
-}
-
-#include "function-model-footer.p4"
diff --git a/p4Source/congestionDetection.json b/p4Source/congestionDetection.json
index e2274bda8..a2d744217 100644
--- a/p4Source/congestionDetection.json
+++ b/p4Source/congestionDetection.json
@@ -1395,11 +1395,11 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x0"
+                  "key" : "0x00"
                 },
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 }
               ],
               "action_entry" : {
@@ -1418,11 +1418,11 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 },
                 {
                   "match_type" : "exact",
-                  "key" : "0x0"
+                  "key" : "0x00"
                 }
               ],
               "action_entry" : {
diff --git a/p4Source/geoLoadBalancer.json b/p4Source/geoLoadBalancer.json
index ed7d986fb..a4de254df 100644
--- a/p4Source/geoLoadBalancer.json
+++ b/p4Source/geoLoadBalancer.json
@@ -601,7 +601,7 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x0"
+                  "key" : "0x0000000000000000"
                 }
               ],
               "action_entry" : {
@@ -666,11 +666,11 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x0"
+                  "key" : "0x00"
                 },
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 }
               ],
               "action_entry" : {
@@ -689,11 +689,11 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 },
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 }
               ],
               "action_entry" : {
@@ -712,11 +712,11 @@
               "match_key" : [
                 {
                   "match_type" : "exact",
-                  "key" : "0x2"
+                  "key" : "0x02"
                 },
                 {
                   "match_type" : "exact",
-                  "key" : "0x1"
+                  "key" : "0x01"
                 }
               ],
               "action_entry" : {
diff --git a/p4Source/kalman.json b/p4Source/kalman.json
deleted file mode 100644
index 44bbce40f..000000000
--- a/p4Source/kalman.json
+++ /dev/null
@@ -1,411 +0,0 @@
-{
-  "header_types" : [
-    {
-      "name" : "scalars_0",
-      "id" : 0,
-      "fields" : [
-        ["tmp", 64, false],
-        ["do_function_componentHash", 64, false],
-        ["do_function_sensorValue", 64, false]
-      ]
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "fields" : [
-        ["size", 64, false],
-        ["isInterest", 1, false],
-        ["param1", 64, false],
-        ["param2", 64, false],
-        ["param3", 64, false],
-        ["param4", 64, false],
-        ["nextHopListSize", 64, false],
-        ["selectedOutputPort", 64, false],
-        ["outputPortSelected", 1, false],
-        ["drop", 1, false],
-        ["queuePriority", 8, false],
-        ["_padding", 5, false]
-      ]
-    }
-  ],
-  "headers" : [
-    {
-      "name" : "scalars",
-      "id" : 0,
-      "header_type" : "scalars_0",
-      "metadata" : true,
-      "pi_omit" : true
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "header_type" : "standard_metadata",
-      "metadata" : true,
-      "pi_omit" : true
-    }
-  ],
-  "header_stacks" : [],
-  "header_union_types" : [],
-  "header_unions" : [],
-  "header_union_stacks" : [],
-  "field_lists" : [],
-  "errors" : [
-    ["NoError", 0],
-    ["PacketTooShort", 1],
-    ["NoMatch", 2],
-    ["StackOutOfBounds", 3],
-    ["HeaderTooShort", 4],
-    ["ParserTimeout", 5],
-    ["ParserInvalidArgument", 6]
-  ],
-  "enums" : [],
-  "parsers" : [
-    {
-      "name" : "parser",
-      "id" : 0,
-      "init_state" : "start",
-      "parse_states" : [
-        {
-          "name" : "start",
-          "id" : 0,
-          "parser_ops" : [],
-          "transitions" : [
-            {
-              "type" : "default",
-              "value" : null,
-              "mask" : null,
-              "next_state" : null
-            }
-          ],
-          "transition_key" : []
-        }
-      ]
-    }
-  ],
-  "parse_vsets" : [],
-  "deparsers" : [
-    {
-      "name" : "deparser",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 55,
-        "column" : 8,
-        "source_fragment" : "DeparserI"
-      },
-      "order" : [],
-      "primitives" : []
-    }
-  ],
-  "meter_arrays" : [],
-  "counter_arrays" : [],
-  "register_arrays" : [],
-  "calculations" : [],
-  "learn_lists" : [],
-  "actions" : [
-    {
-      "name" : "IngressI.do_function.loadSensorValues",
-      "id" : 0,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "log_msg",
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "Loading the sensor values from Pkt to P4"
-            },
-            {
-              "type" : "parameters_vector",
-              "value" : {
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 35,
-            "column" : 8,
-            "source_fragment" : "        log_msg(\\\"Loading the sensor values from Pkt to P4\\\");"
-          }
-        },
-        {
-          "op" : "get_name_component_integer",
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 36,
-            "column" : 1,
-            "source_fragment" : "get_name_component_integer(sensorValue, 3)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_sensorValue"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000003"
-            }
-          ]
-        },
-        {
-          "op" : "insert_component",
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 39,
-            "column" : 1,
-            "source_fragment" : " insert_component(\\\"result\\\", 4);"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "result"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000004"
-            }
-          ]
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : ">>",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_sensorValue"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x1"
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 38,
-            "column" : 10,
-            "source_fragment" : "sensorValue / 2"
-          }
-        },
-        {
-          "op" : "insert_component_integer",
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 40,
-            "column" : 1,
-            "source_fragment" : "insert_component_integer(result, 5)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000005"
-            }
-          ]
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.nop",
-      "id" : 1,
-      "runtime_data" : [],
-      "primitives" : []
-    },
-    {
-      "name" : "kalman71",
-      "id" : 2,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "get_name_component_hash",
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 71,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_componentHash"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000002"
-            }
-          ]
-        }
-      ]
-    }
-  ],
-  "pipelines" : [
-    {
-      "name" : "ingress",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 40,
-        "column" : 8,
-        "source_fragment" : "IngressI"
-      },
-      "init_table" : "tbl_kalman71",
-      "tables" : [
-        {
-          "name" : "tbl_kalman71",
-          "id" : 0,
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 71,
-            "column" : 5,
-            "source_fragment" : "get_name_component_hash(componentHash, 2)"
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [2],
-          "actions" : ["kalman71"],
-          "base_default_next" : "IngressI.do_function.checkNamespace",
-          "next_tables" : {
-            "kalman71" : "IngressI.do_function.checkNamespace"
-          },
-          "default_entry" : {
-            "action_id" : 2,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "IngressI.do_function.checkNamespace",
-          "id" : 1,
-          "source_info" : {
-            "filename" : "kalman.p4",
-            "line" : 47,
-            "column" : 10,
-            "source_fragment" : "checkNamespace"
-          },
-          "key" : [
-            {
-              "match_type" : "exact",
-              "name" : "componentHash",
-              "target" : ["scalars", "do_function_componentHash"],
-              "mask" : null
-            }
-          ],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [0, 1],
-          "actions" : ["IngressI.do_function.loadSensorValues", "IngressI.do_function.nop"],
-          "base_default_next" : null,
-          "next_tables" : {
-            "IngressI.do_function.loadSensorValues" : null,
-            "IngressI.do_function.nop" : null
-          },
-          "default_entry" : {
-            "action_id" : 1,
-            "action_const" : false,
-            "action_data" : [],
-            "action_entry_const" : false
-          },
-          "entries" : [
-            {
-              "source_info" : {
-                "filename" : "kalman.p4",
-                "line" : 57,
-                "column" : 11,
-                "source_fragment" : "(14752253762927134915) : loadSensorValues()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0xccba88a2f7b108c3"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 0,
-                "action_data" : []
-              },
-              "priority" : 1
-            },
-            {
-              "source_info" : {
-                "filename" : "kalman.p4",
-                "line" : 58,
-                "column" : 11,
-                "source_fragment" : "(1493425201293809283) : loadSensorValues()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0x14b9b64eddbbd683"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 0,
-                "action_data" : []
-              },
-              "priority" : 2
-            }
-          ]
-        }
-      ],
-      "action_profiles" : [],
-      "conditionals" : []
-    },
-    {
-      "name" : "egress",
-      "id" : 1,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 48,
-        "column" : 8,
-        "source_fragment" : "EgressI"
-      },
-      "init_table" : null,
-      "tables" : [],
-      "action_profiles" : [],
-      "conditionals" : []
-    }
-  ],
-  "checksums" : [],
-  "force_arith" : [],
-  "extern_instances" : [],
-  "field_aliases" : [],
-  "program" : "kalman.p4",
-  "__meta__" : {
-    "version" : [2, 23],
-    "compiler" : "https://github.com/p4lang/p4c"
-  }
-}
\ No newline at end of file
diff --git a/p4Source/kalman.p4 b/p4Source/kalman.p4
deleted file mode 100644
index 4b0e8a8fa..000000000
--- a/p4Source/kalman.p4
+++ /dev/null
@@ -1,77 +0,0 @@
-/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
-/**
- * Copyright (c) 2020  University of Ottawa.
- *
- * This file is part of ndnSIM. See AUTHORS for complete list of ndnSIM authors and
- * contributors.
- *
- * ndnSIM is free software: you can redistribute it and/or modify it under the terms
- * of the GNU General Public License as published by the Free Software Foundation,
- * either version 3 of the License, or (at your option) any later version.
- *
- * ndnSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
- * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
- * PURPOSE.  See the GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along with
- * ndnSIM, e.g., in COPYING.md file.  If not, see <http://www.gnu.org/licenses/>.
- **/
-
-#include "v1model.p4"
-
-//hash for the string - data, assumed to be part of the namespace /sensor1/data/value/
-#define DATA_HASH  14752253762927134915
-#define ALERT_HASH  1493425201293809283
-
-
-control P4Function(inout standard_metadata_t std_meta) {
-    //Used to match namespace of the packet
-    bit<64> componentHash = 0;
-    bit<64> sensorValue = 0;
-
-
-    action loadSensorValues() {
-    	bit<64> result = 0;
-        log_msg("Loading the sensor values from Pkt to P4");
-	get_name_component_integer(sensorValue, 3);
-	result = sensorValue * 2;
-	result = sensorValue / 2;
-	insert_component("result", 4);
-	insert_component_integer(result, 5);
-    }
-
-    action nop() {
-    }
-
-
-    table checkNamespace {
-       key={   
-           componentHash: exact;
-       }
-       actions={
-	   loadSensorValues;
-           nop;	   
-       }
-       default_action=nop();
-       const entries={
-           (DATA_HASH) : loadSensorValues();
-           (ALERT_HASH) : loadSensorValues();
-       }
-    }
-
-
-
-    apply {
-/*
-    1. Match namespace
-    2. Get the sensor value as an integer
-    3. Save Integer value in a register 
-*/
-	//data string will always be the 2nd component of the namespace	
-    	get_name_component_hash(componentHash, 2);
-	checkNamespace.apply();
-
-    }
-}
-
-#include "function-model-footer.p4"
diff --git a/p4Source/kalmanFilter.json b/p4Source/kalmanFilter.json
deleted file mode 100644
index 3c6678a1e..000000000
--- a/p4Source/kalmanFilter.json
+++ /dev/null
@@ -1,1464 +0,0 @@
-{
-  "header_types" : [
-    {
-      "name" : "scalars_0",
-      "id" : 0,
-      "fields" : [
-        ["tmp", 1, false],
-        ["do_function_meterTag", 64, false],
-        ["do_function_averageMeterTag", 64, false],
-        ["do_function_congestionState", 1, false],
-        ["do_function_previousCongestionState", 1, false],
-        ["do_function_currentPosition", 32, false],
-        ["do_function_temporaryMeterTag", 64, false],
-        ["_padding_0", 5, false]
-      ]
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "fields" : [
-        ["size", 64, false],
-        ["isInterest", 1, false],
-        ["param1", 64, false],
-        ["param2", 64, false],
-        ["param3", 64, false],
-        ["param4", 64, false],
-        ["nextHopListSize", 64, false],
-        ["selectedOutputPort", 64, false],
-        ["outputPortSelected", 1, false],
-        ["drop", 1, false],
-        ["queuePriority", 8, false],
-        ["_padding", 5, false]
-      ]
-    }
-  ],
-  "headers" : [
-    {
-      "name" : "scalars",
-      "id" : 0,
-      "header_type" : "scalars_0",
-      "metadata" : true,
-      "pi_omit" : true
-    },
-    {
-      "name" : "standard_metadata",
-      "id" : 1,
-      "header_type" : "standard_metadata",
-      "metadata" : true,
-      "pi_omit" : true
-    }
-  ],
-  "header_stacks" : [],
-  "header_union_types" : [],
-  "header_unions" : [],
-  "header_union_stacks" : [],
-  "field_lists" : [],
-  "errors" : [
-    ["NoError", 0],
-    ["PacketTooShort", 1],
-    ["NoMatch", 2],
-    ["StackOutOfBounds", 3],
-    ["HeaderTooShort", 4],
-    ["ParserTimeout", 5],
-    ["ParserInvalidArgument", 6]
-  ],
-  "enums" : [],
-  "parsers" : [
-    {
-      "name" : "parser",
-      "id" : 0,
-      "init_state" : "start",
-      "parse_states" : [
-        {
-          "name" : "start",
-          "id" : 0,
-          "parser_ops" : [],
-          "transitions" : [
-            {
-              "type" : "default",
-              "value" : null,
-              "mask" : null,
-              "next_state" : null
-            }
-          ],
-          "transition_key" : []
-        }
-      ]
-    }
-  ],
-  "parse_vsets" : [],
-  "deparsers" : [
-    {
-      "name" : "deparser",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 55,
-        "column" : 8,
-        "source_fragment" : "DeparserI"
-      },
-      "order" : [],
-      "primitives" : []
-    }
-  ],
-  "meter_arrays" : [
-    {
-      "name" : "congestionMeter",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "kalmanFilter.p4",
-        "line" : 22,
-        "column" : 28,
-        "source_fragment" : "congestionMeter"
-      },
-      "is_direct" : false,
-      "size" : 1,
-      "rate_count" : 2,
-      "type" : "packets"
-    }
-  ],
-  "counter_arrays" : [],
-  "register_arrays" : [
-    {
-      "name" : "IngressI.do_function.position",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "kalmanFilter.p4",
-        "line" : 27,
-        "column" : 22,
-        "source_fragment" : "position"
-      },
-      "size" : 1,
-      "bitwidth" : 32
-    },
-    {
-      "name" : "IngressI.do_function.historicMeterTags",
-      "id" : 1,
-      "source_info" : {
-        "filename" : "kalmanFilter.p4",
-        "line" : 28,
-        "column" : 23,
-        "source_fragment" : "historicMeterTags"
-      },
-      "size" : 10,
-      "bitwidth" : 64
-    },
-    {
-      "name" : "IngressI.do_function.storedCongestionState",
-      "id" : 2,
-      "source_info" : {
-        "filename" : "kalmanFilter.p4",
-        "line" : 29,
-        "column" : 21,
-        "source_fragment" : "storedCongestionState"
-      },
-      "size" : 1,
-      "bitwidth" : 1
-    }
-  ],
-  "calculations" : [],
-  "learn_lists" : [],
-  "actions" : [
-    {
-      "name" : "IngressI.do_function.averageMeterTags",
-      "id" : 0,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_currentPosition"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.position"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 36,
-            "column" : 2,
-            "source_fragment" : "position.read(currentPosition, 0)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_currentPosition"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_currentPosition"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x00000001"
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 37,
-            "column" : 2,
-            "source_fragment" : "currentPosition = currentPosition + 1"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_currentPosition"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "?",
-                  "left" : {
-                    "type" : "hexstr",
-                    "value" : "0x00000000"
-                  },
-                  "right" : {
-                    "type" : "field",
-                    "value" : ["scalars", "do_function_currentPosition"]
-                  },
-                  "cond" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "==",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_currentPosition"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x0000000a"
-                      }
-                    }
-                  }
-                }
-              }
-            }
-          ]
-        },
-        {
-          "op" : "register_write",
-          "parameters" : [
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.position"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_currentPosition"]
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 42,
-            "column" : 2,
-            "source_fragment" : "position.write(0, currentPosition)"
-          }
-        },
-        {
-          "op" : "register_write",
-          "parameters" : [
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_currentPosition"]
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_meterTag"]
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 45,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.write(currentPosition, meterTag)"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 47,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 0)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 48,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000001"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 49,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 1)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 50,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000002"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 51,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 2)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 52,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000003"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 53,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 3)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 54,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000004"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 55,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 4)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 56,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000005"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 57,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 5)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 58,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000006"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 59,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 6)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 60,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000007"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 61,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 7)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 62,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000008"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 63,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 8)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 64,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        },
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_temporaryMeterTag"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.historicMeterTags"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000009"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 65,
-            "column" : 2,
-            "source_fragment" : "historicMeterTags.read(temporaryMeterTag, 9)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "&",
-                  "left" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "+",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_temporaryMeterTag"]
-                      }
-                    }
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0xffffffffffffffff"
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 66,
-            "column" : 2,
-            "source_fragment" : "averageMeterTag = averageMeterTag + temporaryMeterTag"
-          }
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.detectCongestion",
-      "id" : 1,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "register_read",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_previousCongestionState"]
-            },
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.storedCongestionState"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 70,
-            "column" : 2,
-            "source_fragment" : "storedCongestionState.read(previousCongestionState, 0)"
-          }
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_congestionState"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "?",
-                  "left" : {
-                    "type" : "hexstr",
-                    "value" : "0x00"
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0x01"
-                  },
-                  "cond" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "==",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x0000000000000000"
-                      }
-                    }
-                  }
-                }
-              }
-            }
-          ]
-        },
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            },
-            {
-              "type" : "expression",
-              "value" : {
-                "type" : "expression",
-                "value" : {
-                  "op" : "?",
-                  "left" : {
-                    "type" : "hexstr",
-                    "value" : "0x00"
-                  },
-                  "right" : {
-                    "type" : "hexstr",
-                    "value" : "0x01"
-                  },
-                  "cond" : {
-                    "type" : "expression",
-                    "value" : {
-                      "op" : "==",
-                      "left" : {
-                        "type" : "field",
-                        "value" : ["scalars", "do_function_averageMeterTag"]
-                      },
-                      "right" : {
-                        "type" : "hexstr",
-                        "value" : "0x0000000000000000"
-                      }
-                    }
-                  }
-                }
-              }
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 72,
-            "column" : 3,
-            "source_fragment" : "congestionState"
-          }
-        },
-        {
-          "op" : "register_write",
-          "parameters" : [
-            {
-              "type" : "register_array",
-              "value" : "IngressI.do_function.storedCongestionState"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "tmp"]
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 77,
-            "column" : 2,
-            "source_fragment" : "storedCongestionState.write(0, congestionState)"
-          }
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.increaseRate",
-      "id" : 2,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "send_notification",
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 81,
-            "column" : 2,
-            "source_fragment" : "  send_notification(\\\"/SensorProducer/app/0/change-rate/100\\\", \\\"The bandwidth for the metered flows is back to normal levels, increase the rate of the sensors\\\");"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "/SensorProducer/app/0/change-rate/100"
-            },
-            {
-              "type" : "string",
-              "value" : "The bandwidth for the metered flows is back to normal levels, increase the rate of the sensors"
-            }
-          ]
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.decreaseRate",
-      "id" : 3,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "send_notification",
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 85,
-            "column" : 2,
-            "source_fragment" : "  send_notification(\\\"/SensorProducer/app/0/change-rate/50\\\", \\\"The bandwidth for the metered flows was exceeded, reduce the rate of the sensors\\\");"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "/SensorProducer/app/0/change-rate/50"
-            },
-            {
-              "type" : "string",
-              "value" : "The bandwidth for the metered flows was exceeded, reduce the rate of the sensors"
-            }
-          ]
-        }
-      ]
-    },
-    {
-      "name" : "IngressI.do_function.nop",
-      "id" : 4,
-      "runtime_data" : [],
-      "primitives" : []
-    },
-    {
-      "name" : "kalmanFilter26",
-      "id" : 5,
-      "runtime_data" : [],
-      "primitives" : [
-        {
-          "op" : "assign",
-          "parameters" : [
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_averageMeterTag"]
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000000"
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 26,
-            "column" : 1,
-            "source_fragment" : "bit<64> averageMeterTag = 0;"
-          }
-        },
-        {
-          "op" : "meter_set_rates",
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 110,
-            "column" : 8,
-            "source_fragment" : "        meter_set_rates(\\\"congestionMeter\\\", 0, \\\"100:4 200:4\\\", 0);"
-          },
-          "parameters" : [
-            {
-              "type" : "string",
-              "value" : "congestionMeter"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x0000000000000000"
-            },
-            {
-              "type" : "string",
-              "value" : "100:4 200:4"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00"
-            }
-          ]
-        },
-        {
-          "op" : "execute_meter",
-          "parameters" : [
-            {
-              "type" : "meter_array",
-              "value" : "congestionMeter"
-            },
-            {
-              "type" : "hexstr",
-              "value" : "0x00000000"
-            },
-            {
-              "type" : "field",
-              "value" : ["scalars", "do_function_meterTag"]
-            }
-          ],
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 112,
-            "column" : 2,
-            "source_fragment" : "congestionMeter.execute_meter(0, meterTag)"
-          }
-        }
-      ]
-    }
-  ],
-  "pipelines" : [
-    {
-      "name" : "ingress",
-      "id" : 0,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 40,
-        "column" : 8,
-        "source_fragment" : "IngressI"
-      },
-      "init_table" : "tbl_kalmanFilter26",
-      "tables" : [
-        {
-          "name" : "tbl_kalmanFilter26",
-          "id" : 0,
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 26,
-            "column" : 1,
-            "source_fragment" : "bit<64> averageMeterTag = 0; ..."
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [5],
-          "actions" : ["kalmanFilter26"],
-          "base_default_next" : "tbl_do_function_averageMeterTags",
-          "next_tables" : {
-            "kalmanFilter26" : "tbl_do_function_averageMeterTags"
-          },
-          "default_entry" : {
-            "action_id" : 5,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "tbl_do_function_averageMeterTags",
-          "id" : 1,
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 113,
-            "column" : 5,
-            "source_fragment" : "averageMeterTags()"
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [0],
-          "actions" : ["IngressI.do_function.averageMeterTags"],
-          "base_default_next" : "tbl_do_function_detectCongestion",
-          "next_tables" : {
-            "IngressI.do_function.averageMeterTags" : "tbl_do_function_detectCongestion"
-          },
-          "default_entry" : {
-            "action_id" : 0,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "tbl_do_function_detectCongestion",
-          "id" : 2,
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 114,
-            "column" : 5,
-            "source_fragment" : "detectCongestion()"
-          },
-          "key" : [],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [1],
-          "actions" : ["IngressI.do_function.detectCongestion"],
-          "base_default_next" : "IngressI.do_function.notifyTVChannel",
-          "next_tables" : {
-            "IngressI.do_function.detectCongestion" : "IngressI.do_function.notifyTVChannel"
-          },
-          "default_entry" : {
-            "action_id" : 1,
-            "action_const" : true,
-            "action_data" : [],
-            "action_entry_const" : true
-          }
-        },
-        {
-          "name" : "IngressI.do_function.notifyTVChannel",
-          "id" : 3,
-          "source_info" : {
-            "filename" : "kalmanFilter.p4",
-            "line" : 91,
-            "column" : 7,
-            "source_fragment" : "notifyTVChannel"
-          },
-          "key" : [
-            {
-              "match_type" : "exact",
-              "name" : "previousCongestionState",
-              "target" : ["scalars", "do_function_previousCongestionState"],
-              "mask" : null
-            },
-            {
-              "match_type" : "exact",
-              "name" : "congestionState",
-              "target" : ["scalars", "do_function_congestionState"],
-              "mask" : null
-            }
-          ],
-          "match_type" : "exact",
-          "type" : "simple",
-          "max_size" : 1024,
-          "with_counters" : false,
-          "support_timeout" : false,
-          "direct_meters" : null,
-          "action_ids" : [2, 3, 4],
-          "actions" : ["IngressI.do_function.increaseRate", "IngressI.do_function.decreaseRate", "IngressI.do_function.nop"],
-          "base_default_next" : null,
-          "next_tables" : {
-            "IngressI.do_function.increaseRate" : null,
-            "IngressI.do_function.decreaseRate" : null,
-            "IngressI.do_function.nop" : null
-          },
-          "default_entry" : {
-            "action_id" : 4,
-            "action_const" : false,
-            "action_data" : [],
-            "action_entry_const" : false
-          },
-          "entries" : [
-            {
-              "source_info" : {
-                "filename" : "kalmanFilter.p4",
-                "line" : 103,
-                "column" : 3,
-                "source_fragment" : "(0, 1) : decreaseRate()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0x0"
-                },
-                {
-                  "match_type" : "exact",
-                  "key" : "0x1"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 3,
-                "action_data" : []
-              },
-              "priority" : 1
-            },
-            {
-              "source_info" : {
-                "filename" : "kalmanFilter.p4",
-                "line" : 104,
-                "column" : 3,
-                "source_fragment" : "(1, 0) : increaseRate()"
-              },
-              "match_key" : [
-                {
-                  "match_type" : "exact",
-                  "key" : "0x1"
-                },
-                {
-                  "match_type" : "exact",
-                  "key" : "0x0"
-                }
-              ],
-              "action_entry" : {
-                "action_id" : 2,
-                "action_data" : []
-              },
-              "priority" : 2
-            }
-          ]
-        }
-      ],
-      "action_profiles" : [],
-      "conditionals" : []
-    },
-    {
-      "name" : "egress",
-      "id" : 1,
-      "source_info" : {
-        "filename" : "function-model-footer.p4",
-        "line" : 48,
-        "column" : 8,
-        "source_fragment" : "EgressI"
-      },
-      "init_table" : null,
-      "tables" : [],
-      "action_profiles" : [],
-      "conditionals" : []
-    }
-  ],
-  "checksums" : [],
-  "force_arith" : [],
-  "extern_instances" : [],
-  "field_aliases" : [],
-  "program" : "kalmanFilter.p4",
-  "__meta__" : {
-    "version" : [2, 23],
-    "compiler" : "https://github.com/p4lang/p4c"
-  }
-}
\ No newline at end of file
diff --git a/p4Source/kalmanFilter.p4 b/p4Source/kalmanFilter.p4
deleted file mode 100644
index f20960b85..000000000
--- a/p4Source/kalmanFilter.p4
+++ /dev/null
@@ -1,119 +0,0 @@
-/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
-/**
- * Copyright (c) 2020  University of Ottawa.
- *
- * This file is part of ndnSIM. See AUTHORS for complete list of ndnSIM authors and
- * contributors.
- *
- * ndnSIM is free software: you can redistribute it and/or modify it under the terms
- * of the GNU General Public License as published by the Free Software Foundation,
- * either version 3 of the License, or (at your option) any later version.
- *
- * ndnSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
- * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
- * PURPOSE.  See the GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along with
- * ndnSIM, e.g., in COPYING.md file.  If not, see <http://www.gnu.org/licenses/>.
- **/
-
-#include "v1model.p4"
-
-meter(1, MeterType.packets) congestionMeter;
-
-control P4Function(inout standard_metadata_t std_meta) {
-	bit<64> meterTag = 0;
-	bit<64> averageMeterTag = 0;
-	register<bit<32>>(1) position;
-	register<bit<64>>(10) historicMeterTags;
-	register<bit<1>>(1) storedCongestionState;
-	bit<1> congestionState = 0;
-	bit<1> previousCongestionState = 0;
-
-	action averageMeterTags() {
-		//Update position
-		bit<32> currentPosition;
-		position.read(currentPosition, 0);
-		currentPosition = currentPosition + 1;
-		bool revolve = (currentPosition == 10);
-		if (revolve) {
-			currentPosition = 0;
-		}
-		position.write(0, currentPosition);
-
-		//Calculate averageMeterTag
-		historicMeterTags.write(currentPosition, meterTag);
-		bit<64> temporaryMeterTag = 0;
-		historicMeterTags.read(temporaryMeterTag, 0);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 1);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 2);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 3);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 4);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 5);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 6);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 7);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 8);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-		historicMeterTags.read(temporaryMeterTag, 9);
-		averageMeterTag = averageMeterTag + temporaryMeterTag;
-	}
-
-	action detectCongestion() {
-		storedCongestionState.read(previousCongestionState, 0);
-		if (averageMeterTag == 0) {
-			congestionState = 0;
-		}
-		else {
-			congestionState = 1;
-		}
-		storedCongestionState.write(0, congestionState);
-	}
-
-	action increaseRate() {
-		send_notification("/SensorProducer/app/0/change-rate/100", "The bandwidth for the metered flows is back to normal levels, increase the rate of the sensors");
-	}
-
-	action decreaseRate() {
-		send_notification("/SensorProducer/app/0/change-rate/50", "The bandwidth for the metered flows was exceeded, reduce the rate of the sensors");
-	}
-
-	action nop() {
-	}
-
-	table notifyTVChannel {
-		key={
-			previousCongestionState: exact;
-			congestionState: exact;
-		}
-		actions={
-			increaseRate;
-			decreaseRate;
-			nop;
-		}
-		default_action=nop();
-		const entries={
-			(0, 1) : decreaseRate();
-			(1, 0) : increaseRate();
-		}
-	}
-
-    apply {
-    	//Configure meter
-        meter_set_rates("congestionMeter", 0, "100:4 200:4", 0);
-
-		congestionMeter.execute_meter(0, meterTag);
-    	averageMeterTags();
-    	detectCongestion();
-    	notifyTVChannel.apply();
-    }
-}
-
-#include "function-model-footer.p4"
diff --git a/p4Source/v1model.p4 b/p4Source/v1model.p4
index e75b31d73..c186f4a1b 100644
--- a/p4Source/v1model.p4
+++ b/p4Source/v1model.p4
@@ -382,11 +382,6 @@ extern void get_content_name_hash(out bit<64> componentHash);
 extern void get_name_component_hash(out bit<64> componentHash, in bit<64> componentId);
 extern void get_name_component_integer(out bit<64> componentInteger, in bit<64> componentId);
 
-/*
- * Custom Functions for AR processing
- */
-extern void get_arc_tan(out bit<64> result, in bit<64> numerator, in bit<64> denominator);
-
 /*
  * Send a new notification called notificationName in the network
  * In notificationContent, [contentName] will be replaced by the content name of the packet
diff --git a/scratch/complementary.cc b/scratch/complementary.cc
deleted file mode 100644
index e610c9849..000000000
--- a/scratch/complementary.cc
+++ /dev/null
@@ -1,369 +0,0 @@
-/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
-/**
- * Copyright (c) 2020  University of Ottawa.
- *
- * This file is part of ndnSIM. See AUTHORS for complete list of ndnSIM authors and
- * contributors.
- *
- * ndnSIM is free software: you can redistribute it and/or modify it under the terms
- * of the GNU General Public License as published by the Free Software Foundation,
- * either version 3 of the License, or (at your option) any later version.
- *
- * ndnSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
- * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
- * PURPOSE.  See the GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along with
- * ndnSIM, e.g., in COPYING.md file.  If not, see <http://www.gnu.org/licenses/>.
- **/
-
-#include "ns3/core-module.h"
-#include "ns3/network-module.h"
-#include "ns3/point-to-point-module.h"
-#include "ns3/traffic-control-module.h"
-#include "ns3/ndnSIM-module.h"
-
-#include <tuple>
-
-namespace ns3 {
-
-
-struct DataTimes {
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesSensor;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesSensorAlert;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesVODVideo;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesVODSearch;
-};
-
-void traceDataPacketsTransmitted(struct DataTimes* dataTimes,
-  shared_ptr<const ndn::Data> data, Ptr<ndn::App> app, shared_ptr<ndn::Face> face) {
-  ndn::Name dataContentName;
-  if (data->getName().getSecondaryName().empty()) {
-    dataContentName = data->getName().getPrimaryName();
-  }
-  else {
-    dataContentName = data->getName().getSecondaryName();
-  }
-  uint32_t seq = dataContentName.at(-1).toSequenceNumber();
-  std::string contentName = dataContentName.getPrefix(-1).toUri();
-  if (contentName == "/sensor") {
-    dataTimes->dataTimesSensor.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else if (contentName == "/sensor/alert") {
-    dataTimes->dataTimesSensorAlert.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else if (contentName == "/VOD/video/1") {
-    dataTimes->dataTimesVODVideo.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else {
-    //VOD search
-    dataTimes->dataTimesVODSearch.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  }
-  std::cout << Simulator::Now().GetSeconds() << "s: " << contentName << ", seq=" << seq << " sent" << std::endl;
-}
-
-void traceDataPacketsReceived(struct DataTimes* dataTimes,
-  shared_ptr<const ndn::Data> data, Ptr<ndn::App> app, shared_ptr<ndn::Face> face) {
-  ndn::Name dataContentName;
-  if (data->getName().getSecondaryName().empty()) {
-    dataContentName = data->getName().getPrimaryName();
-  }
-  else {
-    dataContentName = data->getName().getSecondaryName();
-  }
-  uint32_t seq = dataContentName.at(-1).toSequenceNumber();
-  std::string contentName = dataContentName.getPrefix(-1).toUri();
-  if (contentName == "/sensor") {
-    std::get<1>(dataTimes->dataTimesSensor[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesSensor[seq]) = data->wireEncode().size();
-  } else if (contentName == "/sensor/alert") {
-    std::get<1>(dataTimes->dataTimesSensorAlert[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesSensorAlert[seq]) = data->wireEncode().size();
-  } else if (contentName == "/VOD/video/1") {
-    std::get<1>(dataTimes->dataTimesVODVideo[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesVODVideo[seq]) = data->wireEncode().size();
-  } else {
-    //VOD search
-    std::get<1>(dataTimes->dataTimesVODSearch[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesVODSearch[seq]) = data->wireEncode().size();
-  }
-  std::cout << Simulator::Now().GetSeconds() << "s: " << contentName << ", seq=" << seq << " received" << std::endl;
-}
-
-void computeDropRateAndDelays(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& packetTimes, bool averageDelay) {
-  long totalPacketsDropped = 0;
-  size_t windowSize = 10;
-  std::vector<int> dropHistory(windowSize, 0);
-  std::vector<double> delayHistory(windowSize, 0);
-  size_t currentPosition = 0;
-  for (auto& entry : packetTimes) {
-    double delay = 0;
-    if (std::get<1>(entry) == 0) {
-      ++totalPacketsDropped;
-      dropHistory[currentPosition] = 1;
-    }
-    else {
-      delay = std::get<1>(entry) - std::get<0>(entry);
-      dropHistory[currentPosition] = 0;
-    }
-    delayHistory[currentPosition] = delay;
-    currentPosition = (currentPosition + 1) % windowSize;
-
-    size_t nbPacketsDropped = 0;
-    double delays = 0;
-    for (size_t i=0; i<windowSize; ++i) {
-      nbPacketsDropped += dropHistory[i];
-      delays += delayHistory[i];
-    }
-    double dropRate = (double) nbPacketsDropped / (double) windowSize;
-    size_t nbPacketsNotDropped = windowSize - nbPacketsDropped;
-    if (averageDelay) {
-      if (nbPacketsNotDropped == 0) {
-        delay = 0;
-      } else {
-        delay = delays / (double) nbPacketsNotDropped;
-      }
-    }
-    std::get<3>(entry) = delay;
-    std::get<5>(entry) = totalPacketsDropped;
-    std::get<6>(entry) = dropRate;
-  }
-}
-
-void computeThroughput(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& packetTimes) {
-  size_t windowSize = 10;
-  std::vector<double> interPacketTimeHistory(windowSize, 0);
-  std::vector<size_t> packetSizeHistory(windowSize, 0);
-  double packetLastReceivedTime = 0;
-  size_t currentPosition = 0;
-  bool isFirst = true;
-  for (auto& entry : packetTimes) {
-    if (std::get<1>(entry) == 0) {
-      interPacketTimeHistory[currentPosition] = 0;
-      packetSizeHistory[currentPosition] = 0;
-    }
-    else {
-      if (!isFirst) {
-        interPacketTimeHistory[currentPosition] = std::get<1>(entry) - packetLastReceivedTime;
-        packetSizeHistory[currentPosition] = std::get<2>(entry);
-      } else {
-        isFirst = false;
-      }
-      packetLastReceivedTime = std::get<1>(entry);
-    }
-    currentPosition = (currentPosition + 1) % windowSize;
-
-    double interPacketTimes = 0;
-    size_t bytes = 0;
-    for (size_t i=0; i<windowSize; ++i) {
-      interPacketTimes += interPacketTimeHistory[i];
-      bytes += packetSizeHistory[i];
-    }
-    long rate = (interPacketTimes == 0) ? 0 : bytes * 8 / interPacketTimes;
-    std::get<4>(entry) = rate;
-  }
-}
-
-
-void writeTraceResults(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& flowMetrics, Ptr<OutputStreamWrapper> file) {
-  for (auto& entry : flowMetrics) {
-    double time = std::get<0>(entry);
-    double delay = std::get<3>(entry);
-    long rate = std::get<4>(entry);
-    long totalPacketsDropped = std::get<5>(entry);
-    double dropRate = std::get<6>(entry);
-
-    *file->GetStream() << time << "\t" << delay << "\t" << rate << "\t" << totalPacketsDropped << "\t" << dropRate << std::endl;
-
-    file->GetStream()->flush();
-  }
-}
-
-bool comparePacketTimeSent(std::tuple<double, double, size_t, double, long, long, double> packetTimes1,
-                           std::tuple<double, double, size_t, double, long, long, double> packetTimes2) {
-  //Sort on sent time
-  return (std::get<0>(packetTimes1) < std::get<0>(packetTimes2));
-}
-
-bool comparePacketTimeReceived(std::tuple<double, double, size_t, double, long, long, double> packetTimes1,
-                               std::tuple<double, double, size_t, double, long, long, double> packetTimes2) {
-  //Sort on received time
-  return (std::get<1>(packetTimes1) < std::get<1>(packetTimes2));
-}
-
-int
-main(int argc, char* argv[])
-{
-  // setting default parameters for PointToPoint links and channels
-  Config::SetDefault("ns3::PointToPointNetDevice::DataRate", StringValue("1.5Mbps"));
-  Config::SetDefault("ns3::PointToPointChannel::Delay", StringValue("10ms"));
-  Config::SetDefault("ns3::QueueBase::MaxSize", StringValue("1p"));
-
-  bool disableCongestionDetection = false;
-
-  // Read optional command-line parameters (e.g., enable visualizer with ./waf --run=<> --visualize
-  CommandLine cmd;
-  cmd.Parse(argc, argv);
-
-  // Creating nodes
-  NodeContainer nodes;
-  nodes.Create(4);
-  Ptr<Node> SensorConsumer = nodes.Get(0);
-  Ptr<Node> router1 = nodes.Get(1);
-  Ptr<Node> SensorProducer = nodes.Get(2);
-  Ptr<Node> router2 = nodes.Get(3);
-
-  // Connecting nodes using links
-  PointToPointHelper p2p;
-  //Consumers to router 1
-  NetDeviceContainer c1r1 = p2p.Install(SensorConsumer, router1);
-  //Producers to router 2
-  NetDeviceContainer p1r2 = p2p.Install(SensorProducer, router2);
-  //Router 1 to router 2
-  NetDeviceContainer r1r2 = p2p.Install(router1, router2);
-
-  // Install NDN stack on all nodes
-  ndn::endn::StackHelper ndnHelper;
-  ndnHelper.setP4Activated(true);
-  ndnHelper.setNodeUri("/SensorConsumer");
-  ndnHelper.Install(SensorConsumer);
-  ndnHelper.setNodeUri("/router1");
-  ndnHelper.Install(router1);
-  ndnHelper.setNodeUri("/SensorProducer");
-  ndnHelper.Install(SensorProducer);
-  ndnHelper.setNodeUri("/router2");
-  ndnHelper.Install(router2);
-
-  // Link traffic control configuration
-  TrafficControlHelper tchPfifo;
-  tchPfifo.SetRootQueueDisc ("ns3::PfifoFastQueueDisc", "MaxSize", StringValue ("10p"), "NormalQueueWeight", UintegerValue (25));
-  tchPfifo.Install(c1r1);
-  tchPfifo.Install(p1r2);
-  tchPfifo.Install(r1r2);
-
-  // Installing applications
-
-  // Sensor Consumer
-  ndn::AppHelper SensorConsumerHelper("ns3::ndn::ConsumerCbr");
-  SensorConsumerHelper.SetPrefix("/sensor");
-  SensorConsumerHelper.SetAttribute("Frequency", StringValue("1")); // 1 interest per second to keep the connection alive
-  SensorConsumerHelper.SetAttribute("AddInterestSequence", BooleanValue(false));
-  SensorConsumerHelper.Install(SensorConsumer);
-
-
-  // Sensor Producer
-  ndn::AppHelper SensorProducerHelper("ns3::ndn::Producer");
-  SensorProducerHelper.SetAttribute("PayloadSize", StringValue("1024"));
-  SensorProducerHelper.SetAttribute("ScheduleData", BooleanValue(true));
-  SensorProducerHelper.SetAttribute("ScheduleDataFrequency", StringValue("100")); // 100 data packets produced per second
-  SensorProducerHelper.SetAttribute("ScheduledDataName", StringValue("/sensor"));
-  SensorProducerHelper.Install(SensorProducer);
-  SensorProducerHelper.SetAttribute("ScheduleDataFrequency", StringValue("1")); // 1 urgent packet pushed per second
-  SensorProducerHelper.SetAttribute("ScheduledDataName", StringValue("/sensor/alert/387210.03125/11.094/21.116/44.15411/11.104/12.014/13.09711"));
-  SensorProducerHelper.Install(SensorProducer);
-
-
-  // Add P4 functions
-  ndn::endn::TableHelper::AddP4Function(router1, "complementaryFilter", "p4Source/complementaryFilter.json");
-//  ndn::endn::TableHelper::AddP4Function(router2, "complementaryFilter", "p4Source/complementaryFilter.json");
-
-  // Add routes
-  ndn::time::seconds timeout(2);
-  //Sensors
-  nfd::endn::efib::EFibEntryData sensorEFibEntry(nfd::endn::epit::Type::PERSISTENT, timeout, nfd::endn::epit::TimerExpiryAction::NONE,
-                                  "", "");
-  ndn::endn::TableHelper::AddEFibRoute(SensorConsumer, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(SensorConsumer, "/sensor", router1); //c1 to r1
-  ndn::endn::TableHelper::AddEFibRoute(router1, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(router1, "/sensor", router2); //r1 to r2
-  ndn::endn::TableHelper::AddEFibRoute(SensorProducer, "/sensor", sensorEFibEntry); //producer EFIB entry
-
-  ndn::endn::TableHelper::AddEFibRoute(router2, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(router2, "/sensor", SensorProducer); //r2 to p1
-
-  //Sensor Alert
-  nfd::endn::epit::EPitEntryData persistentEpit(nfd::endn::epit::Type::PERSISTENT, nfd::endn::epit::TimerExpiryAction::NONE,
-                                               "complementaryFilter()");
-  ndn::endn::TableHelper::AddEPitRoute(SensorProducer, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(SensorProducer, "/sensor/alert", router2); //p1 to r2
-  ndn::endn::TableHelper::AddEPitRoute(router2, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router2, "/sensor/alert", router1); //r2 to r1
-  ndn::endn::TableHelper::AddEPitRoute(router1, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router1, "/sensor/alert", SensorConsumer); //r1 to c1
-
-
-  //Topology routes
-  nfd::endn::epit::EPitEntryData topologyEpit(nfd::endn::epit::Type::PERSISTENT, nfd::endn::epit::TimerExpiryAction::NONE,
-                                               "");
-  ndn::endn::TableHelper::AddEPitRoute(router2, "/SensorProducer", topologyEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router2, "/SensorProducer", SensorProducer); //r2 to p1
-
-  topologyEpit.setP4FunctionString("complementaryFilter()");
-
-
-  Simulator::Stop(Seconds(200.0));
-
-  //Connect trace source
-  struct DataTimes dataTimes;
-  std::ostringstream oss;
-  oss << "/NodeList/" << SensorProducer->GetId() << "/ApplicationList/*/TransmittedDatas";
-  Config::ConnectWithoutContext(oss.str(), MakeBoundCallback(&traceDataPacketsTransmitted, &dataTimes));
-  oss.clear();
-  oss.str("");
-
-  oss << "/NodeList/" << SensorConsumer->GetId() << "/ApplicationList/*/ReceivedDatas";
-  Config::ConnectWithoutContext(oss.str(), MakeBoundCallback(&traceDataPacketsReceived, &dataTimes));
-  oss.clear();
-  oss.str("");
-
-
-  Simulator::Run();
-
-  //Compute the flow metrics
-  computeDropRateAndDelays(dataTimes.dataTimesSensor, true);
-  std::sort(dataTimes.dataTimesSensor.begin(), dataTimes.dataTimesSensor.end(), comparePacketTimeReceived);
-  computeThroughput(dataTimes.dataTimesSensor);
-  std::sort(dataTimes.dataTimesSensor.begin(), dataTimes.dataTimesSensor.end(), comparePacketTimeSent);
-
-  computeDropRateAndDelays(dataTimes.dataTimesSensorAlert, false);
-  std::sort(dataTimes.dataTimesSensorAlert.begin(), dataTimes.dataTimesSensorAlert.end(), comparePacketTimeReceived);
-  computeThroughput(dataTimes.dataTimesSensorAlert);
-  std::sort(dataTimes.dataTimesSensorAlert.begin(), dataTimes.dataTimesSensorAlert.end(), comparePacketTimeSent);
-
-  //Write the trace results
-  AsciiTraceHelper sensorTH;
-  oss << "results/sensor";
-  if (disableCongestionDetection) {
-    oss << "_ncd.dat";
-  }
-  else {
-    oss << "_cd.dat";
-  }
-  Ptr<OutputStreamWrapper> sensorResultFile = sensorTH.CreateFileStream(oss.str());
-  writeTraceResults(dataTimes.dataTimesSensor, sensorResultFile);
-  oss.clear();
-  oss.str("");
-
-  AsciiTraceHelper sensorAlertTH;
-  oss << "results/sensorAlert";
-  if (disableCongestionDetection) {
-    oss << "_ncd.dat";
-  }
-  else {
-    oss << "_cd.dat";
-  }
-  Ptr<OutputStreamWrapper> sensorAlertResultFile = sensorAlertTH.CreateFileStream(oss.str());
-  writeTraceResults(dataTimes.dataTimesSensorAlert, sensorAlertResultFile);
-  oss.clear();
-  oss.str("");
-
-  Simulator::Destroy();
-
-  return 0;
-}
-
-} // namespace ns3
-
-int
-main(int argc, char* argv[])
-{
-  return ns3::main(argc, argv);
-}
-
diff --git a/scratch/kalman.cc b/scratch/kalman.cc
deleted file mode 100644
index 3fd8c6932..000000000
--- a/scratch/kalman.cc
+++ /dev/null
@@ -1,369 +0,0 @@
-/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
-/**
- * Copyright (c) 2020  University of Ottawa.
- *
- * This file is part of ndnSIM. See AUTHORS for complete list of ndnSIM authors and
- * contributors.
- *
- * ndnSIM is free software: you can redistribute it and/or modify it under the terms
- * of the GNU General Public License as published by the Free Software Foundation,
- * either version 3 of the License, or (at your option) any later version.
- *
- * ndnSIM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
- * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
- * PURPOSE.  See the GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along with
- * ndnSIM, e.g., in COPYING.md file.  If not, see <http://www.gnu.org/licenses/>.
- **/
-
-#include "ns3/core-module.h"
-#include "ns3/network-module.h"
-#include "ns3/point-to-point-module.h"
-#include "ns3/traffic-control-module.h"
-#include "ns3/ndnSIM-module.h"
-
-#include <tuple>
-
-namespace ns3 {
-
-
-struct DataTimes {
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesSensor;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesSensorAlert;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesVODVideo;
-  std::vector<std::tuple<double, double, size_t, double, long, long, double>> dataTimesVODSearch;
-};
-
-void traceDataPacketsTransmitted(struct DataTimes* dataTimes,
-  shared_ptr<const ndn::Data> data, Ptr<ndn::App> app, shared_ptr<ndn::Face> face) {
-  ndn::Name dataContentName;
-  if (data->getName().getSecondaryName().empty()) {
-    dataContentName = data->getName().getPrimaryName();
-  }
-  else {
-    dataContentName = data->getName().getSecondaryName();
-  }
-  uint32_t seq = dataContentName.at(-1).toSequenceNumber();
-  std::string contentName = dataContentName.getPrefix(-1).toUri();
-  if (contentName == "/sensor") {
-    dataTimes->dataTimesSensor.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else if (contentName == "/sensor/alert") {
-    dataTimes->dataTimesSensorAlert.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else if (contentName == "/VOD/video/1") {
-    dataTimes->dataTimesVODVideo.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  } else {
-    //VOD search
-    dataTimes->dataTimesVODSearch.emplace_back(Simulator::Now().GetSeconds(), 0, 0, 0, 0, 0, 0);
-  }
-  std::cout << Simulator::Now().GetSeconds() << "s: " << contentName << ", seq=" << seq << " sent" << std::endl;
-}
-
-void traceDataPacketsReceived(struct DataTimes* dataTimes,
-  shared_ptr<const ndn::Data> data, Ptr<ndn::App> app, shared_ptr<ndn::Face> face) {
-  ndn::Name dataContentName;
-  if (data->getName().getSecondaryName().empty()) {
-    dataContentName = data->getName().getPrimaryName();
-  }
-  else {
-    dataContentName = data->getName().getSecondaryName();
-  }
-  uint32_t seq = dataContentName.at(-1).toSequenceNumber();
-  std::string contentName = dataContentName.getPrefix(-1).toUri();
-  if (contentName == "/sensor") {
-    std::get<1>(dataTimes->dataTimesSensor[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesSensor[seq]) = data->wireEncode().size();
-  } else if (contentName == "/sensor/alert") {
-    std::get<1>(dataTimes->dataTimesSensorAlert[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesSensorAlert[seq]) = data->wireEncode().size();
-  } else if (contentName == "/VOD/video/1") {
-    std::get<1>(dataTimes->dataTimesVODVideo[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesVODVideo[seq]) = data->wireEncode().size();
-  } else {
-    //VOD search
-    std::get<1>(dataTimes->dataTimesVODSearch[seq]) = Simulator::Now().GetSeconds();
-    std::get<2>(dataTimes->dataTimesVODSearch[seq]) = data->wireEncode().size();
-  }
-  std::cout << Simulator::Now().GetSeconds() << "s: " << contentName << ", seq=" << seq << " received" << std::endl;
-}
-
-void computeDropRateAndDelays(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& packetTimes, bool averageDelay) {
-  long totalPacketsDropped = 0;
-  size_t windowSize = 10;
-  std::vector<int> dropHistory(windowSize, 0);
-  std::vector<double> delayHistory(windowSize, 0);
-  size_t currentPosition = 0;
-  for (auto& entry : packetTimes) {
-    double delay = 0;
-    if (std::get<1>(entry) == 0) {
-      ++totalPacketsDropped;
-      dropHistory[currentPosition] = 1;
-    }
-    else {
-      delay = std::get<1>(entry) - std::get<0>(entry);
-      dropHistory[currentPosition] = 0;
-    }
-    delayHistory[currentPosition] = delay;
-    currentPosition = (currentPosition + 1) % windowSize;
-
-    size_t nbPacketsDropped = 0;
-    double delays = 0;
-    for (size_t i=0; i<windowSize; ++i) {
-      nbPacketsDropped += dropHistory[i];
-      delays += delayHistory[i];
-    }
-    double dropRate = (double) nbPacketsDropped / (double) windowSize;
-    size_t nbPacketsNotDropped = windowSize - nbPacketsDropped;
-    if (averageDelay) {
-      if (nbPacketsNotDropped == 0) {
-        delay = 0;
-      } else {
-        delay = delays / (double) nbPacketsNotDropped;
-      }
-    }
-    std::get<3>(entry) = delay;
-    std::get<5>(entry) = totalPacketsDropped;
-    std::get<6>(entry) = dropRate;
-  }
-}
-
-void computeThroughput(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& packetTimes) {
-  size_t windowSize = 10;
-  std::vector<double> interPacketTimeHistory(windowSize, 0);
-  std::vector<size_t> packetSizeHistory(windowSize, 0);
-  double packetLastReceivedTime = 0;
-  size_t currentPosition = 0;
-  bool isFirst = true;
-  for (auto& entry : packetTimes) {
-    if (std::get<1>(entry) == 0) {
-      interPacketTimeHistory[currentPosition] = 0;
-      packetSizeHistory[currentPosition] = 0;
-    }
-    else {
-      if (!isFirst) {
-        interPacketTimeHistory[currentPosition] = std::get<1>(entry) - packetLastReceivedTime;
-        packetSizeHistory[currentPosition] = std::get<2>(entry);
-      } else {
-        isFirst = false;
-      }
-      packetLastReceivedTime = std::get<1>(entry);
-    }
-    currentPosition = (currentPosition + 1) % windowSize;
-
-    double interPacketTimes = 0;
-    size_t bytes = 0;
-    for (size_t i=0; i<windowSize; ++i) {
-      interPacketTimes += interPacketTimeHistory[i];
-      bytes += packetSizeHistory[i];
-    }
-    long rate = (interPacketTimes == 0) ? 0 : bytes * 8 / interPacketTimes;
-    std::get<4>(entry) = rate;
-  }
-}
-
-
-void writeTraceResults(std::vector<std::tuple<double, double, size_t, double, long, long, double>>& flowMetrics, Ptr<OutputStreamWrapper> file) {
-  for (auto& entry : flowMetrics) {
-    double time = std::get<0>(entry);
-    double delay = std::get<3>(entry);
-    long rate = std::get<4>(entry);
-    long totalPacketsDropped = std::get<5>(entry);
-    double dropRate = std::get<6>(entry);
-
-    *file->GetStream() << time << "\t" << delay << "\t" << rate << "\t" << totalPacketsDropped << "\t" << dropRate << std::endl;
-
-    file->GetStream()->flush();
-  }
-}
-
-bool comparePacketTimeSent(std::tuple<double, double, size_t, double, long, long, double> packetTimes1,
-                           std::tuple<double, double, size_t, double, long, long, double> packetTimes2) {
-  //Sort on sent time
-  return (std::get<0>(packetTimes1) < std::get<0>(packetTimes2));
-}
-
-bool comparePacketTimeReceived(std::tuple<double, double, size_t, double, long, long, double> packetTimes1,
-                               std::tuple<double, double, size_t, double, long, long, double> packetTimes2) {
-  //Sort on received time
-  return (std::get<1>(packetTimes1) < std::get<1>(packetTimes2));
-}
-
-int
-main(int argc, char* argv[])
-{
-  // setting default parameters for PointToPoint links and channels
-  Config::SetDefault("ns3::PointToPointNetDevice::DataRate", StringValue("1.5Mbps"));
-  Config::SetDefault("ns3::PointToPointChannel::Delay", StringValue("10ms"));
-  Config::SetDefault("ns3::QueueBase::MaxSize", StringValue("1p"));
-
-  bool disableCongestionDetection = false;
-
-  // Read optional command-line parameters (e.g., enable visualizer with ./waf --run=<> --visualize
-  CommandLine cmd;
-  cmd.Parse(argc, argv);
-
-  // Creating nodes
-  NodeContainer nodes;
-  nodes.Create(4);
-  Ptr<Node> SensorConsumer = nodes.Get(0);
-  Ptr<Node> router1 = nodes.Get(1);
-  Ptr<Node> SensorProducer = nodes.Get(2);
-  Ptr<Node> router2 = nodes.Get(3);
-
-  // Connecting nodes using links
-  PointToPointHelper p2p;
-  //Consumers to router 1
-  NetDeviceContainer c1r1 = p2p.Install(SensorConsumer, router1);
-  //Producers to router 2
-  NetDeviceContainer p1r2 = p2p.Install(SensorProducer, router2);
-  //Router 1 to router 2
-  NetDeviceContainer r1r2 = p2p.Install(router1, router2);
-
-  // Install NDN stack on all nodes
-  ndn::endn::StackHelper ndnHelper;
-  ndnHelper.setP4Activated(true);
-  ndnHelper.setNodeUri("/SensorConsumer");
-  ndnHelper.Install(SensorConsumer);
-  ndnHelper.setNodeUri("/router1");
-  ndnHelper.Install(router1);
-  ndnHelper.setNodeUri("/SensorProducer");
-  ndnHelper.Install(SensorProducer);
-  ndnHelper.setNodeUri("/router2");
-  ndnHelper.Install(router2);
-
-  // Link traffic control configuration
-  TrafficControlHelper tchPfifo;
-  tchPfifo.SetRootQueueDisc ("ns3::PfifoFastQueueDisc", "MaxSize", StringValue ("10p"), "NormalQueueWeight", UintegerValue (25));
-  tchPfifo.Install(c1r1);
-  tchPfifo.Install(p1r2);
-  tchPfifo.Install(r1r2);
-
-  // Installing applications
-
-  // Sensor Consumer
-  ndn::AppHelper SensorConsumerHelper("ns3::ndn::ConsumerCbr");
-  SensorConsumerHelper.SetPrefix("/sensor");
-  SensorConsumerHelper.SetAttribute("Frequency", StringValue("1")); // 1 interest per second to keep the connection alive
-  SensorConsumerHelper.SetAttribute("AddInterestSequence", BooleanValue(false));
-  SensorConsumerHelper.Install(SensorConsumer);
-
-
-  // Sensor Producer
-  ndn::AppHelper SensorProducerHelper("ns3::ndn::Producer");
-  SensorProducerHelper.SetAttribute("PayloadSize", StringValue("1024"));
-  SensorProducerHelper.SetAttribute("ScheduleData", BooleanValue(true));
-  SensorProducerHelper.SetAttribute("ScheduleDataFrequency", StringValue("100")); // 100 data packets produced per second
-  SensorProducerHelper.SetAttribute("ScheduledDataName", StringValue("/sensor"));
-  SensorProducerHelper.Install(SensorProducer);
-  SensorProducerHelper.SetAttribute("ScheduleDataFrequency", StringValue("1")); // 1 urgent packet pushed per second
-  SensorProducerHelper.SetAttribute("ScheduledDataName", StringValue("/sensor/alert/3"));
-  SensorProducerHelper.Install(SensorProducer);
-
-
-  // Add P4 functions
-  ndn::endn::TableHelper::AddP4Function(router1, "kalman", "p4Source/kalman.json");
-  ndn::endn::TableHelper::AddP4Function(router2, "kalman", "p4Source/kalman.json");
-
-  // Add routes
-  ndn::time::seconds timeout(2);
-  //Sensors
-  nfd::endn::efib::EFibEntryData sensorEFibEntry(nfd::endn::epit::Type::PERSISTENT, timeout, nfd::endn::epit::TimerExpiryAction::NONE,
-                                  "", "");
-  ndn::endn::TableHelper::AddEFibRoute(SensorConsumer, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(SensorConsumer, "/sensor", router1); //c1 to r1
-  ndn::endn::TableHelper::AddEFibRoute(router1, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(router1, "/sensor", router2); //r1 to r2
-  ndn::endn::TableHelper::AddEFibRoute(SensorProducer, "/sensor", sensorEFibEntry); //producer EFIB entry
-
-  ndn::endn::TableHelper::AddEFibRoute(router2, "/sensor", sensorEFibEntry);
-  ndn::endn::TableHelper::AddEFibNextHop(router2, "/sensor", SensorProducer); //r2 to p1
-
-  //Sensor Alert
-  nfd::endn::epit::EPitEntryData persistentEpit(nfd::endn::epit::Type::PERSISTENT, nfd::endn::epit::TimerExpiryAction::NONE,
-                                               "kalman()");
-  ndn::endn::TableHelper::AddEPitRoute(SensorProducer, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(SensorProducer, "/sensor/alert", router2); //p1 to r2
-  ndn::endn::TableHelper::AddEPitRoute(router2, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router2, "/sensor/alert", router1); //r2 to r1
-  ndn::endn::TableHelper::AddEPitRoute(router1, "/sensor/alert", persistentEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router1, "/sensor/alert", SensorConsumer); //r1 to c1
-
-
-  //Topology routes
-  nfd::endn::epit::EPitEntryData topologyEpit(nfd::endn::epit::Type::PERSISTENT, nfd::endn::epit::TimerExpiryAction::NONE,
-                                               "");
-  ndn::endn::TableHelper::AddEPitRoute(router2, "/SensorProducer", topologyEpit);
-  ndn::endn::TableHelper::AddEPitNextHop(router2, "/SensorProducer", SensorProducer); //r2 to p1
-
-  topologyEpit.setP4FunctionString("kalman()");
-
-
-  Simulator::Stop(Seconds(200.0));
-
-  //Connect trace source
-  struct DataTimes dataTimes;
-  std::ostringstream oss;
-  oss << "/NodeList/" << SensorProducer->GetId() << "/ApplicationList/*/TransmittedDatas";
-  Config::ConnectWithoutContext(oss.str(), MakeBoundCallback(&traceDataPacketsTransmitted, &dataTimes));
-  oss.clear();
-  oss.str("");
-
-  oss << "/NodeList/" << SensorConsumer->GetId() << "/ApplicationList/*/ReceivedDatas";
-  Config::ConnectWithoutContext(oss.str(), MakeBoundCallback(&traceDataPacketsReceived, &dataTimes));
-  oss.clear();
-  oss.str("");
-
-
-  Simulator::Run();
-
-  //Compute the flow metrics
-  computeDropRateAndDelays(dataTimes.dataTimesSensor, true);
-  std::sort(dataTimes.dataTimesSensor.begin(), dataTimes.dataTimesSensor.end(), comparePacketTimeReceived);
-  computeThroughput(dataTimes.dataTimesSensor);
-  std::sort(dataTimes.dataTimesSensor.begin(), dataTimes.dataTimesSensor.end(), comparePacketTimeSent);
-
-  computeDropRateAndDelays(dataTimes.dataTimesSensorAlert, false);
-  std::sort(dataTimes.dataTimesSensorAlert.begin(), dataTimes.dataTimesSensorAlert.end(), comparePacketTimeReceived);
-  computeThroughput(dataTimes.dataTimesSensorAlert);
-  std::sort(dataTimes.dataTimesSensorAlert.begin(), dataTimes.dataTimesSensorAlert.end(), comparePacketTimeSent);
-
-  //Write the trace results
-  AsciiTraceHelper sensorTH;
-  oss << "results/sensor";
-  if (disableCongestionDetection) {
-    oss << "_ncd.dat";
-  }
-  else {
-    oss << "_cd.dat";
-  }
-  Ptr<OutputStreamWrapper> sensorResultFile = sensorTH.CreateFileStream(oss.str());
-  writeTraceResults(dataTimes.dataTimesSensor, sensorResultFile);
-  oss.clear();
-  oss.str("");
-
-  AsciiTraceHelper sensorAlertTH;
-  oss << "results/sensorAlert";
-  if (disableCongestionDetection) {
-    oss << "_ncd.dat";
-  }
-  else {
-    oss << "_cd.dat";
-  }
-  Ptr<OutputStreamWrapper> sensorAlertResultFile = sensorAlertTH.CreateFileStream(oss.str());
-  writeTraceResults(dataTimes.dataTimesSensorAlert, sensorAlertResultFile);
-  oss.clear();
-  oss.str("");
-
-  Simulator::Destroy();
-
-  return 0;
-}
-
-} // namespace ns3
-
-int
-main(int argc, char* argv[])
-{
-  return ns3::main(argc, argv);
-}
-
diff --git a/src/ndnSIM/NFD/daemon/fw/p4/primitives.cpp b/src/ndnSIM/NFD/daemon/fw/p4/primitives.cpp
index 51f205d3f..3b676d0e7 100644
--- a/src/ndnSIM/NFD/daemon/fw/p4/primitives.cpp
+++ b/src/ndnSIM/NFD/daemon/fw/p4/primitives.cpp
@@ -26,8 +26,6 @@
 #include <bm/bm_sim/phv.h>
 #include <bm/bm_sim/logger.h>
 
-#include <math.h> 
-
 #include <random>
 #include <functional>
 
@@ -272,22 +270,6 @@ class endn_get_name_component_integer
   }
 };
 
-
-class endn_get_arc_tan
-  : public ActionPrimitive<Data &, const Data &, const Data &> {
-  void operator ()(Data &result, const Data &numerator, const Data &denominator) {
-	auto num = numerator.get_uint();
-	auto den = denominator.get_uint(); 
-	
-	int calc = (int)(atan2 ((float)num, (float)den));
-	result.set(calc);
-        bm::Logger::get()->info("arc tan value is ");
-        bm::Logger::get()->info(std::to_string(calc));
-  }
-};
-
-
-
 class endn_send_notification
   : public ActionPrimitive<const std::string &, const std::string &> {
   void operator ()(const std::string &notificationName, const std::string &notificationContentFormat) {
@@ -450,7 +432,6 @@ int import_endn_primitives() {
   REGISTER_PRIMITIVE_W_NAME("insert_component_integer", endn_insert_component_integer);
   REGISTER_PRIMITIVE_W_NAME("remove_component", endn_remove_component);
   REGISTER_PRIMITIVE_W_NAME("meter_set_rates", endn_meter_set_rates);
-  REGISTER_PRIMITIVE_W_NAME("get_arc_tan", endn_get_arc_tan);
 
   return 0;
 }
